<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="Blog Post" name="description" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&amp;display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link href="../../styles.css" rel="stylesheet" />
    <title>Robot Javelin</title>
    <link href="../../favicon.ico" rel="shortcut icon" type="image/x-icon" />
  </head>
  <body class="light" id="top">
    <header class="header center">
      <h3><a class="link" href="https://jayyhk.github.io">JM.</a></h3>
      <nav class="nav center">
        <ul class="nav__list center">
          <li class="nav__list-item">
            <a class="link link--nav" href="../../#projects">Projects</a>
          </li>
          <li class="nav__list-item">
            <a class="link link--nav" href="../../#blog">Blog</a>
          </li>
          <li class="nav__list-item">
            <a class="link link--nav" href="../../#music">Music</a>
          </li>
          <li class="nav__list-item">
            <a class="link link--nav" href="../../#contact">Contact</a>
          </li>
        </ul>
        <button aria-label="toggle theme" class="btn btn--icon" type="button">
          <i aria-hidden="true" class="fas fa-moon" id="btn-theme"></i></button
        ><button
          aria-label="toggle navigation"
          class="btn btn--icon nav__hamburger"
          type="button"
        >
          <i aria-hidden="true" class="fas fa-bars"></i>
        </button>
      </nav>
    </header>
    <main>
      <!-- Blog Post -->
      <section class="section blog-post">
        <h1 class="title">Robot Javelin</h1>
        <h3 class="date">January 25, 2026</h3>
        <div class="post-content">
          <p class="blog-paragraph">
            I apologize for this post being a bit late! It was December: a time
            for festivities, my birthday, vacation, ...and finals. I also almost
            didn't get my solution in on time, as I attempted the problem on the
            very last day of the year. Anyway, here is Jane Street's December
            2025 puzzle,
            <a
              class="link"
              href="https://www.janestreet.com/puzzles/robot-javelin-index/"
            >
              Robot Javelin
            </a>
            :
          </p>
          <div class="quote-indent blog-paragraph">
            <p class="blog-paragraph">
              It's coming to the end of the year, which can only mean one thing:
              time for this year's Robot Javelin finals! Whoa wait, you've never
              heard of Robot Javelin? Well then! Allow me to explain the rules:
            </p>
            <ul
              style="
                margin-bottom: 1em;
                margin-left: 2em;
                list-style-type: disc;
              "
            >
              <li style="margin-bottom: 0.5em">
                It's head-to-head. Each of two robots makes their first throw,
                whose distance is a real number drawn uniformly from $[0, 1]$.
              </li>
              <li style="margin-bottom: 0.5em">
                Then, without knowledge of their competitor's result, each robot
                decides whether to keep their current distance or erase it and
                go for a second throw, whose distance they must keep (it is also
                drawn uniformly from $[0, 1]$).
              </li>
              <li style="margin-bottom: 0.5em">
                The robot with the larger final distance wins.
              </li>
            </ul>
            <p class="blog-paragraph">
              This year's finals pits your robot, Java-lin, against the
              challenger, Spears Robot. Now, robots have been competing
              honorably for years and have settled into the Nash equilibrium for
              this game. However, you have just learned that Spears Robot has
              found and exploited a leak in the protocol of the game. They can
              receive a single bit of information telling them whether their
              opponent's first throw (distance) was above or below some
              threshold $d$ of their choosing before deciding whether to go for
              a second throw. Spears has presumably chosen $d$ to maximize their
              chance of winning â€” no wonder they made it to the finals!
            </p>
            <p class="blog-paragraph">
              Spears Robot isn't aware that you've learned this fact; they are
              assuming Java-lin is using the Nash equilibrium. If you were to
              adjust Java-lin's strategy to maximize its odds of winning given
              this, what would be Java-lin's updated probability of winning?
              Please give the answer in exact terms, or as a decimal rounded to
              10 places.
            </p>
          </div>
          <p class="blog-paragraph">
            Before we attempt to exploit the "leak" in the game, let's first
            figure out how the fair version of the game works. We know the
            robots have settled into Nash equilibrium, so we should figure out
            the threshold for going for a second throw. Let's call this
            threshold $k$.
          </p>
          <p class="blog-paragraph">
            To find the optimal $k$, the probability of winning by keeping the
            first throw must equal the probability of winning by going for a
            second throw at the threshold $k$. So we have
          </p>
          <div class="blog-math">
            \[ \text{Pr[Win } | \text{ Keep}] = \text{Pr[Win } | \text{ Throw Again}] \]
          </div>
          <p class="blog-paragraph">
            If we keep a score of exactly $k$, then we only win if Spears Robot
            scores lower than $k$. For Spears Robot to score lower than $k$,
            their first throw must be less than $k$ (probability $k$), and then
            their second throw must also be less than $k$ (probability $k$).
            Thus,
          </p>
          <div class="blog-math">
            \[ \text{Pr[Win } | \text{ Keep}] = k \cdot k = k^2 \]
          </div>
          <p class="blog-paragraph">
            If we go for a second throw, we win if our second throw is greater
            than Spears Robot's final throw. There are two scenarios: either
            they keep their first throw or go for a second throw.
          </p>
          <ol class="case-list">
            <li>
              <p class="blog-paragraph">
                If Spears Robot keeps their first throw, they must have rolled
                higher than $k$ (probability $1-k$). The probability that our
                second throw in $[0, 1]$ is greater than their first throw in
                $[k, 1]$ is $\frac{1 - k}{2}$. Therefore, the probability of us
                winning in this case is
              </p>
              <div class="blog-math">
                \[ \text{Pr[Win } |~(\text{Throw Again } \cap \text{ Spears Keeps})] = (1-k) \cdot \frac{1-k}{2} = \frac{(1-k)^2}{2} \]
              </div>
            </li>
            <li>
              <p class="blog-paragraph">
                If Spears Robot goes for a second throw, they must have thrown
                less than $k$ (probability $k$). The probability that our second
                throw in $[0, 1]$ is greater than their second throw in $[0, 1]$
                is $\frac{1}{2}$. Therefore, the probability of us winning in
                this case is
              </p>
              <div class="blog-math">
                \[ \text{Pr[Win } |~(\text{Throw Again } \cap \text{ Spears Throws Again})] = k \cdot \frac{1}{2} = \frac{k}{2} \]
              </div>
            </li>
          </ol>
          <p class="blog-paragraph">
            Summing these two cases gives us the total probability of winning by
            going for a second throw:
          </p>
          <div class="blog-math">
            \[ \text{Pr[Win | Throw Again]} = \frac{(1-k)^2}{2} + \frac{k}{2} =
            \frac{k^2 - 2k + 1 + k}{2} = \frac{k^2 - k + 1}{2} \]
          </div>
          <p class="blog-paragraph">
            Setting the two probabilities equal to each other, we have
          </p>
          <div class="blog-math">
            \begin{align*} \text{Pr[Win | Keep}] &amp;= \text{Pr[Win | Throw Again]} \\ k^2 &amp;= \frac{k^2 - k + 1}{2} \\ 2k^2 &amp;= k^2 - k +
            1 \\ k^2 + k - 1 &amp;= 0 \\ k &amp;= \frac{-1 \pm \sqrt{1 + 4}}{2}
            = \frac{-1 \pm \sqrt{5}}{2} \end{align*}
          </div>
          <p class="blog-paragraph">
            We take the positive root since $k$ must be in $[0, 1]$, so
            $k=\frac{\sqrt{5} - 1}{2} = \varphi^{-1}$, where $\varphi$ is the
            golden ratio! So in a standard game of Robot Javelin, the robots
            will go for a second throw if their first throw is less than
            $\varphi^{-1}$.
          </p>
          <p class="blog-paragraph">
            Now let's consider the modified game where Spears Robot can receive
            a bit of information if our first throw is below or above a certain
            threshold $d$. To maximize their chances of winning, Spears Robot
            should choose a threshold of $d = k = \varphi^{-1}$. This is because
            if our first throw is below $\varphi^{-1}$, they know we will go for
            a second throw, and if our first throw is above $\varphi^{-1}$, they
            know we will keep our first throw. This choice of $d$ maximizes the
            information gained for Spears Robot.
          </p>
          <p class="blog-paragraph">
            Spears Robot can adjust their strategy accordingly. If Spears Robot
            receives a bit indicating our first throw is below $\varphi^{-1}$,
            they believe we will go for a second throw that will be uniformly
            distributed in $[0, 1]$. In this case, Spears Robot should make
            their threshold for a second throw $\frac{1}{2}$ to maximize their
            probability of winning, as it is the median of the uniform
            distribution.
          </p>
          <p class="blog-paragraph">
            If Spears Robot receives a bit indicating our first throw is above
            $\varphi^{-1}$, they know we have thrown a value in $[\varphi^{-1},
            1]$ and believe we will keep it. Spears Robot can now do one of two
            things:
          </p>
          <ol class="case-list">
            <li>
              <p class="blog-paragraph">
                Spears Robot can re-throw if their first throw is below some new
                threshold $t$. Regardless of $t$, they will win with probability
                $\frac{1 - \varphi^{-1}}{2}$, as the probability that their
                second throw in $[0, 1]$ is greater than our first throw in $[
                \varphi^{-1}, 1]$ is $\frac{1 - \varphi^{-1}}{2}$.
              </p>
            </li>
            <li>
              <p class="blog-paragraph">
                Spears Robot can keep their first throw as long as it's above
                $t$. Since Spears Robot will win if our first throw is between
                $\varphi^{-1}$ and $t$, the probability that Spears Robots wins
                by keeping their first throw is $\frac{t - \varphi^{-1}}{1 -
                \varphi^{-1}}$.
              </p>
            </li>
          </ol>
          <p class="blog-paragraph">
            Like before, to find Spears Robot's new threshold $t$, the
            probability of them winning by keeping their first throw must equal
            the probability of them winning by going for a second throw at the
            threshold $t$. Thus, we have
          </p>
          <div class="blog-math">
            \begin{align*} \text{Pr[Win } | \text{ Keep}] &= \text{Pr[Win } |
            \text{ Throw Again}] \\ \frac{t - \varphi^{-1}}{1 - \varphi^{-1}} &=
            \frac{1 - \varphi^{-1}}{2} \\ t - \varphi^{-1} &= \frac{(1 -
            \varphi^{-1})^2}{2} \\ t &= \frac{1 - 2\varphi^{-1} +
            (\varphi^{-1})^2}{2} + \varphi^{-1} \\ t &= \frac{1 +
            (\varphi^{-1})^2}{2} \\ t &= \frac{1 + 1 - \varphi^{-1}}{2} \\ t &=
            1 - \frac{\varphi^{-1}}{2} \end{align*}
          </div>
          <p class="blog-paragraph">
            which was simplified using the identity $(\varphi^{-1})^2 = 1 -
            \varphi^{-1}$. Therefore, Spears Robot's new threshold is $t = 1 -
            \frac{\varphi^{-1}}{2}$.
          </p>
        </div>
      </section>
    </main>
    <footer class="footer"></footer>
    <div class="scroll-arrow"></div>
    <script src="../../script.js"></script>
    <script>
      MathJax = {
        tex: {
          inlineMath: [
            ["$", "$"],
            ["\\(", "\\)"],
          ],
        },
        svg: {
          fontCache: "global",
        },
      };
    </script>
    <script
      async=""
      id="MathJax-script"
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
    ></script>
  </body>
</html>
